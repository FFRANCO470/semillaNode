(function(e){function t(t){for(var a,n,i=t[0],c=t[1],l=t[2],d=0,u=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],a=!0,n=1;n<o.length;n++){var c=o[n];0!==s[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=o[0]))}return e}var a={},s={app:0},r=[];function n(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"4700c1d8","chunk-2d216257":"256ee085","chunk-44582c80":"c19eb687"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],o=s[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,a){o=s[e]=[t,a]}));t.push(o[2]=a);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=n(e);var l=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(d);var o=s[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,o[1](l)}s[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(o,a,function(t){return e[t]}.bind(null,a));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var m=l;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("85ec")},"080a":function(e,t,o){},2015:function(e,t,o){},2898:function(e,t,o){},"2eca":function(e,t,o){"use strict";o("8049")},4678:function(e,t,o){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return o(t)}function r(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id="4678"},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("Cabecera"),o("v-main",[o("router-view")],1)],1)},r=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return""!=this.$store.state.token?o("div",[o("v-card",{staticClass:"mx-auto overflow-hidden",attrs:{height:"100%",width:"100%"}},[o("v-app-bar",{attrs:{color:"#17A589"}},[o("v-app-bar-nav-icon",{staticClass:"white--text",on:{click:function(t){e.drawer=!0}}}),o("v-spacer"),o("v-btn",{staticStyle:{position:"left"},on:{click:function(t){return e.cerrarSesion()}}},[o("v-icon",[e._v("mdi-logout")]),e._v("Salir")],1)],1)],1),o("v-navigation-drawer",{attrs:{absolute:"",temporary:"",bottom:"",expand:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[o("v-list",[o("v-list-item",{attrs:{to:{path:"/home"}}},[o("v-list-item-action",[o("v-icon",[e._v("mdi-home")])],1),o("v-list-item-content",[o("v-list-item-title",[e._v("Home")])],1)],1),"ADMIN_ROL"==this.$store.state.rol?e._l(e.items,(function(t){return o("v-list-group",{key:t.title,attrs:{"prepend-icon":t.action,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(o){e.$set(t,"active",o)},expression:"item.active"}},e._l(t.items,(function(t){return o("v-list-item",{key:t.title,attrs:{to:t.ruta}},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)})):e._e(),"ADMIN_ROL"==this.$store.state.rol||"ALMACENISTA_ROL"==this.$store.state.rol?e._l(e.items2,(function(t){return o("v-list-group",{key:t.title,attrs:{"prepend-icon":t.action,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(o){e.$set(t,"active",o)},expression:"item.active"}},e._l(t.items,(function(t){return o("v-list-item",{key:t.title,attrs:{to:t.ruta}},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)})):e._e(),"ADMIN_ROL"==this.$store.state.rol||"VENDEDOR_ROL"==this.$store.state.rol?e._l(e.items3,(function(t){return o("v-list-group",{key:t.title,attrs:{"prepend-icon":t.action,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(o){e.$set(t,"active",o)},expression:"item.active"}},e._l(t.items,(function(t){return o("v-list-item",{key:t.title,attrs:{to:t.ruta}},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)})):e._e(),"ADMIN_ROL"==this.$store.state.rol?e._l(e.items4,(function(t){return o("v-list-group",{key:t.title,attrs:{"prepend-icon":t.action,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(o){e.$set(t,"active",o)},expression:"item.active"}},e._l(t.items,(function(t){return o("v-list-item",{key:t.title,attrs:{to:t.ruta}},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)})):e._e(),"ADMIN_ROL"==this.$store.state.rol?e._l(e.items5,(function(t){return o("v-list-group",{key:t.title,attrs:{"prepend-icon":t.action,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(o){e.$set(t,"active",o)},expression:"item.active"}},e._l(t.items,(function(t){return o("v-list-item",{key:t.title,attrs:{to:t.ruta}},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)})):e._e()],2)],1)],1):e._e()},i=[],c={name:"App",data:function(){return{drawer:!1,token:"",items:[{action:"mdi-sitemap",title:"Almacen",items:[{title:"Categorías",ruta:{path:"/categoria"}},{title:"Articulos",ruta:{path:"/articulo"}},{title:"Grafica",ruta:{path:"/grafica"}}]}],items2:[{action:"mdi-shopping",title:"Compras",items:[{title:"Compras",ruta:{path:"/compra"}},{title:"Proveedores",ruta:{path:"/listarProveedores"}}]}],items3:[{action:"mdi-cart",title:"Ventas",items:[{title:"Ventas",ruta:{path:"/venta"}},{title:"Clientes",ruta:{path:"/listarClientes"}}]}],items4:[{action:"mdi-chart-line",title:"Consultas",items:[{title:"Consultar compras",ruta:{path:"/consultarCompras"}},{title:"Consultar ventas",ruta:{path:"/consultarVentas"}}]}],items5:[{action:"mdi-account-multiple",title:"Acceso",items:[{title:"Usuarios",ruta:{path:"/usuario"}}]}]}},methods:{cerrarSesion:function(){this.$router.push("/"),this.$store.dispatch("setToken",this.token)}}},l=c,d=o("2877"),m=o("6544"),u=o.n(m),p=o("40dc"),h=o("5bc1"),v=o("8336"),g=o("b0af"),f=o("132d"),b=o("8860"),C=o("56b0"),x=o("da13"),k=o("1800"),_=o("5d23"),I=o("f774"),D=o("2fa4"),E=Object(d["a"])(l,n,i,!1,null,null,null),y=E.exports;u()(E,{VAppBar:p["a"],VAppBarNavIcon:h["a"],VBtn:v["a"],VCard:g["a"],VIcon:f["a"],VList:b["a"],VListGroup:C["a"],VListItem:x["a"],VListItemAction:k["a"],VListItemContent:_["a"],VListItemTitle:_["b"],VNavigationDrawer:I["a"],VSpacer:D["a"]});var j={name:"App",components:{Cabecera:y}},w=j,V=(o("034f"),o("7496")),T=o("f6c4"),A=Object(d["a"])(w,s,r,!1,null,null,null),P=A.exports;u()(A,{VApp:V["a"],VMain:T["a"]});var $=o("8c4f"),S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[0==e.muestra?o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:e.columnas,items:e.compras,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Compras: "+e._s(e.totalCompras))]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDF()}}},[e._v("mdi-download")]),o("v-btn",{staticClass:"mb-2",attrs:{depressed:"",dark:""},on:{click:function(t){return e.cambioPage(1,!1)}}},[e._v("Añadir")])],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.cambioPage(2,a)}}},[e._v("mdi-clipboard-outline ")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(2,a)}}},[e._v("mdi-check")])]:[o("v-icon",{attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(1,a)}}},[e._v("mdi-block-helper")])]]}}],null,!1,3412630773)}):e._e()],[1==e.muestra?o("div",{staticClass:"container pa-4 white grid-list-sm"},[o("v-container",{attrs:{fluid:""}},[o("v-row",[o("v-btn",{staticClass:"mb-2",attrs:{depressed:"",dark:""},on:{click:function(t){return e.guardar2()}}},[e._v(" Generar compra")]),o("v-spacer"),o("v-btn",{staticClass:"mb-2",attrs:{color:"red",dark:""},on:{click:function(t){return e.cambioPage(0,!1)}}},[e._v(" Cancelar")])],1),o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-autocomplete",{attrs:{items:e.tiposComprobantaVenta,label:"Tipo Comprobante"},model:{value:e.editedItem.tipoComprobante,callback:function(t){e.$set(e.editedItem,"tipoComprobante",t)},expression:"editedItem.tipoComprobante"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{label:"Serie comprobante"},model:{value:e.editedItem.serieComprobante,callback:function(t){e.$set(e.editedItem,"serieComprobante",t)},expression:"editedItem.serieComprobante"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{type:"number",min:"0",label:"Numero comprobante"},model:{value:e.editedItem.numComprobante,callback:function(t){e.$set(e.editedItem,"numComprobante",t)},expression:"editedItem.numComprobante"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"8"}},[o("v-autocomplete",{attrs:{items:e.proveedores,label:"Proveedor"},model:{value:e.editedItem.persona,callback:function(t){e.$set(e.editedItem,"persona",t)},expression:"editedItem.persona"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{type:"number",min:"0",default:"0",label:"Impuesto"},model:{value:e.editedItem.impuesto,callback:function(t){e.$set(e.editedItem,"impuesto",t)},expression:"editedItem.impuesto"}})],1)],1),o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[e._v("Total parcial : "+e._s(e.totalComprado))])])]),o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[e._v("Total impuesto : "+e._s(e.TotalFinalImpuesto))])])]),o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[e._v("Total neto : "+e._s(e.totalComprado+e.TotalFinalImpuesto))])])]),o("v-row",[o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:e.mostradorArticulosTitle,items:e.mostradorArticulos,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.facturar(a)}}},[e._v("mdi-cart ")])]}}],null,!1,2795721935)})],1),o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:e.facturaArticulosTitle,items:e.facturaArticulos},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.cantidad",fn:function(t){return[o("v-text-field",{attrs:{min:"0",name:"quantity",outlined:"",type:"number"},model:{value:t.item.cantidad,callback:function(o){e.$set(t.item,"cantidad",o)},expression:"props.item.cantidad"}})]}},{key:"item.subtotal",fn:function(t){var o=t.item;return[e._v(" "+e._s(o.costo*o.cantidad)+" ")]}},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.desfacturar(a)}}},[e._v("mdi-delete ")])]}}],null,!0)})],1)],1)],1)],1):e._e()],[2==e.muestra?o("div",{staticClass:"container pa-4 white grid-list-sm"},[o("v-container",[o("v-row",[o("v-btn",{staticClass:"mb-2",attrs:{color:"Error",dark:""},on:{click:function(t){return e.cambioPage(0,!1)}}},[e._v("Volver")]),o("v-spacer"),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDFVenta()}}},[e._v("mdi-download")])],1)],1),[o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[e._v("Fecha : "+e._s(e.compraConDetalleFecha)+" ")])]),o("div",{staticStyle:{margin:"30px 0 0 20px"}},[o("span",{staticClass:"black--text"},[e._v("Estado : "+e._s(e.compraConDetalleEstado))])])]),o("v-row",[o("div",{staticStyle:{margin:"30px 0 0 20px"}},[o("p",{attrs:{align:"left"}},[o("strong",[e._v("Cliente :")]),e._v(e._s(e.compraConDetalleProveedor.nombre)),o("br"),o("strong",[e._v("Tipo documento :")]),e._v(e._s(e.datosProveedor.tipoDocumento)),o("br"),o("strong",[e._v("Num documento :")]),e._v(e._s(e.datosProveedor.numDocumento)),o("br"),o("strong",[e._v("Email:")]),e._v(e._s(e.datosProveedor.email)),o("br"),o("strong",[e._v("Telefono:")]),e._v(e._s(e.datosProveedor.telefono)),o("br"),o("strong",[e._v("Direccion:")]),e._v(e._s(e.datosProveedor.direccion)),o("br"),o("br"),o("strong",[e._v("Vendedor : ")]),e._v(" "+e._s(e.compraConDetalleVendedor.nombre)),o("br"),o("strong",[e._v("Tipo Comprobante :")]),e._v(" "+e._s(e.compraConDetalleTipoComp)),o("br"),o("strong",[e._v("Serie :")]),e._v(" "+e._s(e.compraConDetalleSerie)),o("br"),o("strong",[e._v("# Comprobante :")]),e._v(" "+e._s(e.compraConDetalleNumComp)),o("br"),o("br"),o("strong",[e._v("Total parcial : ")]),e._v(e._s(e.compraConDetalleTotal)),o("br"),o("strong",[e._v("Total impuesto ("+e._s(100*e.compraConDetalleImpuesto)+"%):")]),e._v(e._s(e.compraConDetalleTotal*e.compraConDetalleImpuesto)+" "),o("br"),o("strong",[e._v("Total Neto:")]),e._v(" "+e._s(e.compraConDetalleTotal+e.compraConDetalleTotal*e.compraConDetalleImpuesto)+" ")])])]),o("v-row",[o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15 ",attrs:{headers:e.articulosComprados,items:e.articuloIncluido},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Articulos Comprados")])],1)]},proxy:!0}],null,!1,1805414759)})],1)],1)]],2):e._e()]],2)],1)},N=[],F=(o("d81d"),o("99af"),o("a434"),o("b680"),o("bc3a")),O=o.n(F),R=o("3d20"),W=o.n(R),K=o("8baf"),B=(o("0da4"),{data:function(){return{drawer:!1,search:"",muestra:0,msgError:"",columnas:[{text:"Fecha",value:"createAt",class:"teal accent-4 white--text"},{text:"Vendedor",value:"usuario.nombre",class:"teal accent-4 white--text",width:"10%"},{text:"Cliente",value:"persona.nombre",class:"teal accent-4 white--text"},{text:"Tipo Comprobante",value:"tipoComprobante",class:"teal accent-4 white--text",width:"10%"},{text:"Serie Comprobante",value:"serieComprobante",class:"teal accent-4 white--text",width:"10%"},{text:"Número Comprobante",value:"numComprobante",class:"teal accent-4 white--text",width:"10%"},{text:"Impuesto",value:"impuesto",class:"teal accent-4 white--text",width:"10%"},{text:"Total",value:"total",class:"teal accent-4 white--text",width:"10%"},{text:"Acciones",value:"actions",sortable:!1,class:"teal accent-4 white--text",width:"10%"}],compras:[{usuario:"",persona:"",tipoComprobante:"",serieComprobante:"",numComprobante:"",impuesto:0,total:0,detalles:"",createAt:""}],compraConDetalleFecha:"",compraConDetalleEstado:"",compraConDetalleProveedor:"",compraConDetalleVendedor:"",compraConDetalleTipoComp:"",compraConDetalleSerie:"",compraConDetalleNumComp:"",compraConDetalleImpuesto:"",compraConDetalleTotal:"",compraConDetalleDetalles:[],datosProveedor:{},articulosComprados:[{text:"Nombre",value:"nombre",class:"teal accent-4 white--text"},{text:"Cantidad",value:"cantidad",class:"teal accent-4 white--text"},{text:"Costo uni.",value:"costo",class:"teal accent-4 white--text"},{text:"Costo total",value:"costoTotal",class:"teal accent-4 white--text"}],artiComprados:[{_id:"",nombre:"",cantidad:"",costo:""}],articuloIncluido:[{_id:"",nombre:"",cantidad:"",costo:"",costoTotal:""}],editedItem:{persona:"",tipoComprobante:"",serieComprobante:"",numComprobante:"",impuesto:"",total:"",detalles:[]},tiposComprobantaVenta:["FACTURA","NOTA DEBITO","NOTA CREDITO"],proveedores:[],mostradorArticulosTitle:[{text:"Codigo",value:"codigo",class:"teal accent-4 white--text",sortable:!1},{text:"Nombre",value:"nombre",class:"teal accent-4 white--text",sortable:!1},{text:"Cantidad",value:"cantidad",class:"teal accent-4 white--text",sortable:!1},{text:"Costo",value:"costo",class:"teal accent-4 white--text",sortable:!1},{text:"Agregar",value:"actions",class:"teal accent-4 white--text",sortable:!1}],mostradorArticulosLlegar:[{_id:"",estado:"",codigo:"",nombre:"",costo:0,cantidad:0}],mostradorArticulos:[{_id:"",codigo:"",nombre:"",costo:0,cantidad:0}],facturaArticulosTitle:[{text:"Nombre",value:"nombre",class:"teal accent-4 white--text",sortable:!1},{text:"Cantidad",value:"cantidad",class:"teal accent-4 white--text",sortable:!1},{text:"Costo",value:"costo",class:"teal accent-4 white--text",sortable:!1},{text:"Sub total",value:"subtotal",class:"teal accent-4 white--text",sortable:!1},{text:"Eliminar",value:"actions",class:"teal accent-4 white--text",sortable:!1}],facturaArticulos:[],editedIndex:-1}},created:function(){this.obtenerCompras()},methods:{msjcompra:function(e){W.a.fire({position:"top",icon:"error",title:e,showConfirmButton:!1,timer:2e3})},listo:function(){W.a.fire({position:"top",icon:"success",title:"Compra realizada",showConfirmButton:!1,timer:2e3})},cambioPage:function(e,t){0==e?this.muestra=e:1==e?(this.muestra=e,this.obtenerPersonas(),this.obtenerArtirticulos()):(this.muestra=e,this.traerCompraDestalles(t))},obtenerCompras:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("compra",t).then((function(t){console.log(t.data),e.compras=t.data.compra,console.log(e.compras)})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},activarDesactivarItem:function(e,t){var o=t._id;if(console.log(e),2==e){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};O.a.put("compra/desactivar/".concat(o),{},s).then((function(){a.obtenerCompras()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==e){console.log(o);var r=this,n={headers:{token:this.$store.state.token}};O.a.put("compra/activar/".concat(o),{},n).then((function(){r.obtenerCompras()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},crearPDF:function(){var e=[];this.compras.map((function(t){e.push({createAt:t.createAt,usuario:t.usuario.nombre,persona:t.persona.nombre,tipoComprobante:t.tipoComprobante,serieComprobante:t.serieComprobante,numComprobante:t.numComprobante,impuesto:t.impuesto,total:t.total})}));var t=new K["default"];t.autoTable({didDrawPage:function(){t.text("Lista de compras",14,10)},columnStyles:{0:{cellWidth:22},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"},4:{cellWidth:"auto"},5:{cellWidth:"auto"},6:{cellWidth:"auto"},7:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{title:"CreatedAt",dataKey:"createAt"},{title:"Usuario",dataKey:"usuario"},{title:"Persona",dataKey:"persona"},{title:"Tipo Comprobante",dataKey:"tipoComprobante"},{title:"Serie Comprobante",dataKey:"serieComprobante"},{title:"# Comprobante",dataKey:"numComprobante"},{title:"Impusto",dataKey:"impuesto"},{title:"Total",dataKey:"total"}]}),t.save("Compras.pdf")},traerCompraDestalles:function(e){var t=this,o=e._id,a={headers:{token:this.$store.state.token}};O.a.get("compra/".concat(o),a).then((function(e){console.log(e),t.compraConDetalleFecha=e.data.compra.createAt,t.compraConDetalleEstado=e.data.compra.estado,t.compraConDetalleProveedor=e.data.compra.persona,t.compraConDetalleVendedor=e.data.compra.usuario,t.compraConDetalleTipoComp=e.data.compra.tipoComprobante,t.compraConDetalleSerie=e.data.compra.serieComprobante,t.compraConDetalleNumComp=e.data.compra.numComprobante,t.compraConDetalleImpuesto=e.data.compra.impuesto,t.compraConDetalleTotal=e.data.compra.total,t.compraConDetalleDetalles=e.data.compra.detalles,t.artiComprados=t.compraConDetalleDetalles,t.meter(t.compraConDetalleDetalles),t.traerProveedor(t.compraConDetalleProveedor)})).catch((function(e){console.log(e.response),e.response.data.msg?(t.msgError=e.response.data.msg,console.log(e.response.data.msg),t.msgError=e.response.data.msg,t.msjcompra(t.msgError)):(console.log(e.response),t.msgError=e.response.data.errors[0].msg,t.msjcompra(t.msgError))}))},traerProveedor:function(e){var t=this,o=e._id,a={headers:{token:this.$store.state.token}};O.a.get("persona/byid/".concat(o),a).then((function(e){console.log("cliente"),console.log(e),t.datosProveedor=e.data.persona})).catch((function(e){console.log(e.response),e.response.data.msg?(t.msgError=e.response.data.msg,console.log(e.response.data.msg),t.msgError=e.response.data.msg,t.msjcompra(t.msgError)):(console.log(e.response),t.msgError=e.response.data.errors[0].msg,t.msjcompra(t.msgError))}))},meter:function(e){console.log(e);var t=[];e.map((function(e){t.push({_id:e._id,nombre:e.nombre,cantidad:e.cantidad,costo:e.costo,costoTotal:e.cantidad*e.costo})})),console.log("comprados"),console.log(t),this.articuloIncluido=t},crearPDFVenta:function(){var e=new K["default"],t=[];this.compraConDetalleDetalles.map((function(e){t.push({nombre:e.nombre,cantidad:e.cantidad,costo:e.costo,costoSub:e.costo*e.cantidad})})),e.setFontSize(11),e.text("Fecha : ".concat(this.compraConDetalleFecha),15,15),e.text("Estado : ".concat(this.compraConDetalleEstado),150,15),e.text("Proveedor :             ".concat(this.compraConDetalleProveedor.nombre),15,35),e.text("Tipo documento :   ".concat(this.datosProveedor.tipoDocumento),15,40),e.text("Num documento :   ".concat(this.datosProveedor.numDocumento),15,45),e.text("Email :                     ".concat(this.datosProveedor.email),15,50),e.text("Telefono :                ".concat(this.datosProveedor.telefono),15,55),e.text("Direccion :               ".concat(this.datosProveedor.direccion),15,60),e.text("Vendedor :               ".concat(this.compraConDetalleVendedor.nombre),15,70),e.text("Tipo comprobante :  ".concat(this.compraConDetalleTipoComp),15,75),e.text("Serie :                      ".concat(this.compraConDetalleSerie),15,80),e.text("# Comprobante :      ".concat(this.compraConDetalleNumComp),15,85),e.text("Total parcial:           ".concat(this.compraConDetalleTotal," "),15,95),e.text("Impuesto (".concat(this.compraConDetalleImpuesto,") :       ").concat(this.compraConDetalleTotal*this.compraConDetalleImpuesto),15,100),e.text("Total Neto:              ".concat(this.compraConDetalleTotal+this.compraConDetalleTotal*this.compraConDetalleImpuesto),15,105),e.autoTable({didDrawPage:function(){e.text("Articulos comprados:",15,115)},startY:120,columnStyles:{0:{cellWidth:40},1:{cellWidth:40},2:{cellWidth:40},3:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:t,columns:[{header:"Articulo",dataKey:"nombre"},{header:"Cantidad",dataKey:"cantidad"},{header:"Costo Uni",dataKey:"costo"},{header:"Costo Total",dataKey:"costoSub"}],cursor:{x:15,y:115}}),e.save("Factura de compra.pdf")},obtenerPersonas:function(){var e=this,t=this,o=[],a={headers:{token:this.$store.state.token}};O.a.get("persona/listProveedores",a).then((function(e){console.log(e.data),o=e.data.persona,o.map((function(e){1==e.estado&&t.proveedores.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},meterArticulos:function(e){var t=[];e.map((function(e){0!=e.estado&&e.stock>0&&t.push({_id:e._id,codigo:e.codigo,nombre:e.nombre,costo:e.costo,cantidad:e.stock})})),console.log(t),this.mostradorArticulos=t},obtenerArtirticulos:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("articulo",t).then((function(t){console.log(t),e.mostradorArticulosLlegar=t.data.articulos,e.meterArticulos(e.mostradorArticulosLlegar)})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},facturar:function(e){this.editedIndex=this.mostradorArticulos.indexOf(e),this.facturaArticulos.push(e),this.mostradorArticulos.splice(this.editedIndex,1),console.log(this.facturaArticulos),console.log(this.editedIndex)},desfacturar:function(e){this.editedIndex=this.facturaArticulos.indexOf(e),this.mostradorArticulos.push(e),this.facturaArticulos.splice(this.editedIndex,1),console.log(this.facturaArticulos),console.log(this.editedIndex)},guardar2:function(){var e=this.$store.state.idUser,t=this.editedItem.persona,o=this.editedItem.tipoComprobante,a=this.editedItem.serieComprobante,s=this.editedItem.numComprobante,r=this.editedItem.impuesto/100,n=this.totalComprado,i=this.facturaArticulos;console.log(e),console.log(t),console.log(o),console.log(a),console.log(s),console.log(r),console.log(n),console.log(i),this.guardar(e,t,o,a,s,r,n,i)},guardar:function(e,t,o,a,s,r,n,i){var c=this;console.log("estoy guardando");var l={headers:{token:this.$store.state.token}};O.a.post("compra",{usuario:e,persona:t,tipoComprobante:o,serieComprobante:a,numComprobante:s,impuesto:r,total:n,detalles:i},l).then((function(e){console.log("se hizo la compra"),console.log(e),c.obtenerCompras(),c.obtenerPersonas(),c.obtenerArtirticulos(),c.reset(),c.listo()})).catch((function(e){console.log(e.response),e.response.data.msg?(c.msgError=e.response.data.msg,console.log(e.response.data.msg),c.msgError=e.response.data.msg,c.msjcompra(c.msgError)):(console.log(e.response),c.msgError=e.response.data.errors[0].msg,c.msjcompra(c.msgError))}))},reset:function(){this.editedItem.persona="",this.editedItem.tipoComprobante="",this.editedItem.serieComprobante="",this.editedItem.numComprobante="",this.editedItem.impuesto="",this.editedItem.total="",this.facturaArticulos=[]}},computed:{totalCompras:function(){return this.compras.reduce((function(e,t){return e+parseFloat(t.total)}),0)},totalComprado:function(){return this.facturaArticulos.reduce((function(e,t){return e+parseInt(t.cantidad)*t.costo}),0)},TotalFinalImpuesto:function(){if(!this.editedItem.impuesto)return 0;var e=this.totalComprado*this.editedItem.impuesto/100;return e.toFixed(2)}}}),L=B,M=(o("dd16"),o("c6a6")),q=o("62ad"),z=o("a523"),U=o("8fea"),G=o("ce7e"),Y=o("0fd9"),J=o("8654"),Z=o("71d9"),H=o("2a7f"),Q=Object(d["a"])(L,S,N,!1,null,null,null),X=Q.exports;u()(Q,{VApp:V["a"],VAutocomplete:M["a"],VBtn:v["a"],VCol:q["a"],VContainer:z["a"],VDataTable:U["a"],VDivider:G["a"],VIcon:f["a"],VRow:Y["a"],VSpacer:D["a"],VTextField:J["a"],VToolbar:Z["a"],VToolbarTitle:H["a"]});var ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[0==e.muestra?o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:e.columnas,items:e.ventas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Ventas: "+e._s(e.totalVentas))]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDF()}}},[e._v("mdi-download")]),o("v-btn",{staticClass:"mb-2",attrs:{depressed:"",dark:""},on:{click:function(t){return e.cambioPage(1,!1)}}},[e._v("Añadir")])],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.cambioPage(2,a)}}},[e._v("mdi-clipboard-outline ")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(2,a)}}},[e._v("mdi-check")])]:[o("v-icon",{attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(1,a)}}},[e._v("mdi-block-helper")])]]}}],null,!1,3161302517)}):e._e()],[1==e.muestra?o("div",{staticClass:"container pa-4 white grid-list-sm"},[o("v-container",{attrs:{fluid:""}},[o("v-row",[o("v-btn",{staticClass:"mb-2",attrs:{depressed:"",dark:""},on:{click:function(t){return e.guardar2()}}},[e._v(" Generar venta")]),o("v-spacer"),o("v-btn",{staticClass:"mb-2",attrs:{color:"red",dark:""},on:{click:function(t){return e.cambioPage(0,!1)}}},[e._v(" Cancelar")])],1),o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-autocomplete",{attrs:{items:e.tiposComprobantaVenta,label:"Tipo Comprobante"},model:{value:e.editedItem.tipoComprobante,callback:function(t){e.$set(e.editedItem,"tipoComprobante",t)},expression:"editedItem.tipoComprobante"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{label:"Serie comprobante"},model:{value:e.editedItem.serieComprobante,callback:function(t){e.$set(e.editedItem,"serieComprobante",t)},expression:"editedItem.serieComprobante"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{type:"number",min:"0",label:"Numero comprobante"},model:{value:e.editedItem.numComprobante,callback:function(t){e.$set(e.editedItem,"numComprobante",t)},expression:"editedItem.numComprobante"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"8"}},[o("v-autocomplete",{attrs:{items:e.clientes,label:"Cliente"},model:{value:e.editedItem.persona,callback:function(t){e.$set(e.editedItem,"persona",t)},expression:"editedItem.persona"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{type:"number",min:"0",default:"0",label:"Impuesto"},model:{value:e.editedItem.impuesto,callback:function(t){e.$set(e.editedItem,"impuesto",t)},expression:"editedItem.impuesto"}})],1)],1),o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[e._v("Total parcial : "+e._s(e.totalVendido))])])]),o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[e._v("Total impuesto : "+e._s(e.TotalFinalImpuesto))])])]),o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[e._v("Total neto : "+e._s(e.totalVendido+e.TotalFinalImpuesto))])])]),o("v-row",[o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:e.mostradorArticulosTitle,items:e.mostradorArticulos,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.facturar(a)}}},[e._v("mdi-cart ")])]}}],null,!1,2795721935)})],1),o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:e.facturaArticulosTitle,items:e.facturaArticulos},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.cantidad",fn:function(t){return[o("v-text-field",{attrs:{min:"0",name:"quantity",outlined:"",type:"number"},model:{value:t.item.cantidad,callback:function(o){e.$set(t.item,"cantidad",o)},expression:"props.item.cantidad"}})]}},{key:"item.subtotal",fn:function(t){var o=t.item;return[e._v(" "+e._s(o.precio*o.cantidad)+" ")]}},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.desfacturar(a)}}},[e._v("mdi-delete ")])]}}],null,!0)})],1)],1)],1)],1):e._e()],[2==e.muestra?o("div",{staticClass:"container pa-4 white grid-list-sm"},[o("v-container",[o("v-row",[o("v-btn",{staticClass:"mb-2",attrs:{color:"Error",dark:""},on:{click:function(t){return e.cambioPage(0,!1)}}},[e._v("Volver")]),o("v-spacer"),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDFVenta()}}},[e._v("mdi-download")])],1)],1),[o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[e._v("Fecha : "+e._s(e.ventaConDetalleFecha)+" ")])]),o("div",{staticStyle:{margin:"30px 0 0 20px"}},[o("span",{staticClass:"black--text"},[e._v("Estado : "+e._s(e.ventaConDetalleEstado))])])]),o("v-row",[o("div",{staticStyle:{margin:"30px 0 0 20px"}},[o("p",{attrs:{align:"left"}},[o("strong",[e._v("Cliente :")]),e._v(e._s(e.ventaConDetalleCliente.nombre)),o("br"),o("strong",[e._v("Tipo documento :")]),e._v(e._s(e.datosCliente.tipoDocumento)),o("br"),o("strong",[e._v("Num documento :")]),e._v(e._s(e.datosCliente.numDocumento)),o("br"),o("strong",[e._v("Email:")]),e._v(e._s(e.datosCliente.email)),o("br"),o("strong",[e._v("Telefono:")]),e._v(e._s(e.datosCliente.telefono)),o("br"),o("strong",[e._v("Direccion:")]),e._v(e._s(e.datosCliente.direccion)),o("br"),o("br"),o("strong",[e._v("Vendedor : ")]),e._v(" "+e._s(e.ventaConDetalleVendedor.nombre)),o("br"),o("strong",[e._v("Tipo Comprobante :")]),e._v(" "+e._s(e.ventaConDetalleTipoComp)),o("br"),o("strong",[e._v("Serie :")]),e._v(" "+e._s(e.ventaConDetalleSerie)),o("br"),o("strong",[e._v("# Comprobante :")]),e._v(" "+e._s(e.ventaConDetalleNumComp)),o("br"),o("br"),o("strong",[e._v("Total parcial : ")]),e._v(e._s(e.ventaConDetalleTotal)),o("br"),o("strong",[e._v("Total impuesto ("+e._s(100*e.ventaConDetalleImpuesto)+"%):")]),e._v(e._s(e.ventaConDetalleTotal*e.ventaConDetalleImpuesto)+" "),o("br"),o("strong",[e._v("Total Neto:")]),e._v(" "+e._s(e.ventaConDetalleTotal+e.ventaConDetalleTotal*e.ventaConDetalleImpuesto)+" ")])])]),o("v-row",[o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15 ",attrs:{headers:e.articulosVendidos,items:e.articuloIncluido},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Articulos vendidos")])],1)]},proxy:!0}],null,!1,4137086677)})],1)],1)]],2):e._e()]],2)],1)},te=[],oe={data:function(){return{drawer:!1,search:"",muestra:0,msgError:"",columnas:[{text:"Fecha",value:"createAt",class:"teal accent-4 white--text"},{text:"Vendedor",value:"usuario.nombre",class:"teal accent-4 white--text",width:"10%"},{text:"Cliente",value:"persona.nombre",class:"teal accent-4 white--text"},{text:"Tipo Comprobante",value:"tipoComprobante",class:"teal accent-4 white--text",width:"10%"},{text:"Serie Comprobante",value:"serieComprobante",class:"teal accent-4 white--text",width:"10%"},{text:"Número Comprobante",value:"numComprobante",class:"teal accent-4 white--text",width:"10%"},{text:"Impuesto",value:"impuesto",class:"teal accent-4 white--text",width:"10%"},{text:"Total",value:"total",class:"teal accent-4 white--text",width:"10%"},{text:"Acciones",value:"actions",sortable:!1,class:"teal accent-4 white--text",width:"10%"}],ventas:[{usuario:"",persona:"",tipoComprobante:"",serieComprobante:"",numComprobante:"",impuesto:0,total:0,detalles:"",createAt:""}],ventaConDetalleFecha:"",ventaConDetalleEstado:"",ventaConDetalleCliente:"",ventaConDetalleVendedor:"",ventaConDetalleTipoComp:"",ventaConDetalleSerie:"",ventaConDetalleNumComp:"",ventaConDetalleImpuesto:"",ventaConDetalleTotal:"",ventaConDetalleDetalles:[],datosCliente:{},articulosVendidos:[{text:"Nombre",value:"nombre",class:"teal accent-4 white--text"},{text:"Cantidad",value:"cantidad",class:"teal accent-4 white--text"},{text:"Precio uni.",value:"precio",class:"teal accent-4 white--text"},{text:"Precio total",value:"precioTotal",class:"teal accent-4 white--text"}],artiVendidos:[{_id:"",nombre:"",cantidad:"",precio:""}],articuloIncluido:[{_id:"",nombre:"",cantidad:"",precio:"",precioTotal:""}],editedItem:{persona:"",tipoComprobante:"",serieComprobante:"",numComprobante:"",impuesto:"",total:"",detalles:[]},tiposComprobantaVenta:["FACTURA","NOTA DEBITO","NOTA CREDITO"],clientes:[],mostradorArticulosTitle:[{text:"Codigo",value:"codigo",class:"teal accent-4 white--text",sortable:!1},{text:"Nombre",value:"nombre",class:"teal accent-4 white--text",sortable:!1},{text:"Cantidad",value:"cantidad",class:"teal accent-4 white--text",sortable:!1},{text:"Precio",value:"precio",class:"teal accent-4 white--text",sortable:!1},{text:"Agregar",value:"actions",class:"teal accent-4 white--text",sortable:!1}],mostradorArticulosLlegar:[{_id:"",estado:"",codigo:"",nombre:"",precio:0,cantidad:0}],mostradorArticulos:[{_id:"",codigo:"",nombre:"",precio:0,cantidad:0}],facturaArticulosTitle:[{text:"Nombre",value:"nombre",class:"teal accent-4 white--text",sortable:!1},{text:"Cantidad",value:"cantidad",class:"teal accent-4 white--text",sortable:!1},{text:"Precio",value:"precio",class:"teal accent-4 white--text",sortable:!1},{text:"Sub total",value:"subtotal",class:"teal accent-4 white--text",sortable:!1},{text:"Eliminar",value:"actions",class:"teal accent-4 white--text",sortable:!1}],facturaArticulos:[],editedIndex:-1}},created:function(){this.obtenerVenta()},methods:{msjcompra:function(e){W.a.fire({position:"top",icon:"error",title:e,showConfirmButton:!1,timer:2e3})},listo:function(){W.a.fire({position:"top",icon:"success",title:"Venta realizada",showConfirmButton:!1,timer:2e3})},cambioPage:function(e,t){0==e?this.muestra=e:1==e?(this.muestra=e,this.obtenerPersonas(),this.obtenerArtirticulos()):(this.muestra=e,this.traerVentaDetalle(t))},obtenerVenta:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("venta",t).then((function(t){console.log(t.data),e.ventas=t.data.venta,console.log(e.ventas)})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},activarDesactivarItem:function(e,t){var o=t._id;if(console.log(e),2==e){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};O.a.put("venta/desactivar/".concat(o),{},s).then((function(){a.obtenerVenta()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==e){console.log(o);var r=this,n={headers:{token:this.$store.state.token}};O.a.put("venta/activar/".concat(o),{},n).then((function(){r.obtenerVenta()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},crearPDF:function(){var e=[];this.ventas.map((function(t){e.push({createAt:t.createAt,usuario:t.usuario.nombre,persona:t.persona.nombre,tipoComprobante:t.tipoComprobante,serieComprobante:t.serieComprobante,numComprobante:t.numComprobante,impuesto:t.impuesto,total:t.total})}));var t=new K["default"];t.autoTable({didDrawPage:function(){t.text("Lista de Ventas",14,10)},columnStyles:{0:{cellWidth:22},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"},4:{cellWidth:"auto"},5:{cellWidth:"auto"},6:{cellWidth:"auto"},7:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{title:"CreatedAt",dataKey:"createAt"},{title:"Usuario",dataKey:"usuario"},{title:"Persona",dataKey:"persona"},{title:"Tipo Comprobante",dataKey:"tipoComprobante"},{title:"Serie Comprobante",dataKey:"serieComprobante"},{title:"# Comprobante",dataKey:"numComprobante"},{title:"Impusto",dataKey:"impuesto"},{title:"Total",dataKey:"total"}]}),t.save("Ventas.pdf")},traerVentaDetalle:function(e){var t=this,o=e._id,a={headers:{token:this.$store.state.token}};O.a.get("venta/".concat(o),a).then((function(e){console.log(e),t.ventaConDetalleFecha=e.data.venta.createAt,t.ventaConDetalleEstado=e.data.venta.estado,t.ventaConDetalleCliente=e.data.venta.persona,t.ventaConDetalleVendedor=e.data.venta.usuario,t.ventaConDetalleTipoComp=e.data.venta.tipoComprobante,t.ventaConDetalleSerie=e.data.venta.serieComprobante,t.ventaConDetalleNumComp=e.data.venta.numComprobante,t.ventaConDetalleImpuesto=e.data.venta.impuesto,t.ventaConDetalleTotal=e.data.venta.total,t.ventaConDetalleDetalles=e.data.venta.detalles,t.artiVendidos=t.ventaConDetalleDetalles,t.meter(t.ventaConDetalleDetalles),t.traerCliente(t.ventaConDetalleCliente)})).catch((function(e){console.log(e.response),e.response.data.msg?(t.msgError=e.response.data.msg,console.log(e.response.data.msg),t.msgError=e.response.data.msg,t.msjcompra(t.msgError)):(console.log(e.response),t.msgError=e.response.data.errors[0].msg,t.msjcompra(t.msgError))}))},traerCliente:function(e){var t=this,o=e._id,a={headers:{token:this.$store.state.token}};O.a.get("persona/byid/".concat(o),a).then((function(e){console.log("cliente"),console.log(e),t.datosCliente=e.data.persona})).catch((function(e){console.log(e.response),e.response.data.msg?(t.msgError=e.response.data.msg,console.log(e.response.data.msg),t.msgError=e.response.data.msg,t.msjcompra(t.msgError)):(console.log(e.response),t.msgError=e.response.data.errors[0].msg,t.msjcompra(t.msgError))}))},meter:function(e){console.log(e);var t=[];e.map((function(e){t.push({_id:e._id,nombre:e.nombre,cantidad:e.cantidad,precio:e.precio,precioTotal:e.cantidad*e.precio})})),console.log(t),this.articuloIncluido=t},crearPDFVenta:function(){var e=new K["default"],t=[];this.ventaConDetalleDetalles.map((function(e){t.push({nombre:e.nombre,cantidad:e.cantidad,precio:e.precio,precioSub:e.precio*e.cantidad})})),e.setFontSize(11),e.text("Fecha : ".concat(this.ventaConDetalleFecha),15,15),e.text("Estado : ".concat(this.ventaConDetalleEstado),150,15),e.text("Cliente :                 ".concat(this.ventaConDetalleCliente.nombre),15,35),e.text("Tipo documento :   ".concat(this.datosCliente.tipoDocumento),15,40),e.text("Num documento :   ".concat(this.datosCliente.numDocumento),15,45),e.text("Email :                     ".concat(this.datosCliente.email),15,50),e.text("Telefono :                ".concat(this.datosCliente.telefono),15,55),e.text("Direccion :               ".concat(this.datosCliente.direccion),15,60),e.text("Vendedor :               ".concat(this.ventaConDetalleVendedor.nombre),15,70),e.text("Tipo comprobante :  ".concat(this.ventaConDetalleTipoComp),15,75),e.text("Serie :                      ".concat(this.ventaConDetalleSerie),15,80),e.text("# Comprobante :      ".concat(this.ventaConDetalleNumComp),15,85),e.text("Total parcial:           ".concat(this.ventaConDetalleTotal," "),15,95),e.text("Impuesto (".concat(this.ventaConDetalleImpuesto,") :            ").concat(this.ventaConDetalleTotal*this.ventaConDetalleImpuesto),15,100),e.text("Total Neto:              ".concat(this.ventaConDetalleTotal+this.ventaConDetalleTotal*this.ventaConDetalleImpuesto),15,105),e.autoTable({didDrawPage:function(){e.text("Articulos vendidos:",15,115)},startY:120,columnStyles:{0:{cellWidth:40},1:{cellWidth:40},2:{cellWidth:40},3:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:t,columns:[{header:"Articulo",dataKey:"nombre"},{header:"Cantidad",dataKey:"cantidad"},{header:"Precio Uni",dataKey:"precio"},{header:"Precio Total",dataKey:"precioSub"}],cursor:{x:15,y:115}}),e.save("Factura de venta.pdf")},obtenerPersonas:function(){var e=this,t=this,o=[],a={headers:{token:this.$store.state.token}};O.a.get("persona/listClientes",a).then((function(e){console.log(e.data),o=e.data.persona,o.map((function(e){1==e.estado&&t.clientes.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},meterArticulos:function(e){var t=[];e.map((function(e){0!=e.estado&&e.stock>0&&t.push({_id:e._id,codigo:e.codigo,nombre:e.nombre,precio:e.precio,cantidad:e.stock})})),console.log(t),this.mostradorArticulos=t},obtenerArtirticulos:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("articulo",t).then((function(t){console.log(t),e.mostradorArticulosLlegar=t.data.articulos,e.meterArticulos(e.mostradorArticulosLlegar)})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},facturar:function(e){this.editedIndex=this.mostradorArticulos.indexOf(e),this.facturaArticulos.push(e),this.mostradorArticulos.splice(this.editedIndex,1),console.log(this.facturaArticulos),console.log(this.editedIndex)},desfacturar:function(e){this.editedIndex=this.facturaArticulos.indexOf(e),this.mostradorArticulos.push(e),this.facturaArticulos.splice(this.editedIndex,1),console.log(this.facturaArticulos),console.log(this.editedIndex)},guardar2:function(){var e=this.$store.state.idUser,t=this.editedItem.persona,o=this.editedItem.tipoComprobante,a=this.editedItem.serieComprobante,s=this.editedItem.numComprobante,r=this.editedItem.impuesto/100,n=this.totalVendido,i=this.facturaArticulos;console.log(e),console.log(t),console.log(o),console.log(a),console.log(s),console.log(r),console.log(n),console.log(i),this.guardar(e,t,o,a,s,r,n,i)},guardar:function(e,t,o,a,s,r,n,i){var c=this;console.log("estoy guardando"+this.bd);var l={headers:{token:this.$store.state.token}};O.a.post("venta",{usuario:e,persona:t,tipoComprobante:o,serieComprobante:a,numComprobante:s,impuesto:r,total:n,detalles:i},l).then((function(e){console.log(e),c.obtenerVenta(),c.obtenerPersonas(),c.obtenerArtirticulos(),c.reset(),c.listo()})).catch((function(e){console.log(e.response),e.response.data.msg?(c.msgError=e.response.data.msg,console.log(e.response.data.msg),c.msgError=e.response.data.msg,c.msjcompra(c.msgError)):(console.log(e.response),c.msgError=e.response.data.errors[0].msg,c.msjcompra(c.msgError))}))},reset:function(){this.editedItem.persona="",this.editedItem.tipoComprobante="",this.editedItem.serieComprobante="",this.editedItem.numComprobante="",this.editedItem.impuesto="",this.editedItem.total="",this.facturaArticulos=[]}},computed:{totalVentas:function(){return this.ventas.reduce((function(e,t){return e+parseFloat(t.total)}),0)},totalVendido:function(){return this.facturaArticulos.reduce((function(e,t){return e+parseInt(t.cantidad)*t.precio}),0)},TotalFinalImpuesto:function(){if(!this.editedItem.impuesto)return 0;var e=this.totalVendido*this.editedItem.impuesto/100;return e.toFixed(2)}}},ae=oe,se=(o("670e"),Object(d["a"])(ae,ee,te,!1,null,null,null)),re=se.exports;u()(se,{VApp:V["a"],VAutocomplete:M["a"],VBtn:v["a"],VCol:q["a"],VContainer:z["a"],VDataTable:U["a"],VDivider:G["a"],VIcon:f["a"],VRow:Y["a"],VSpacer:D["a"],VTextField:J["a"],VToolbar:Z["a"],VToolbarTitle:H["a"]});var ne=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[o("v-data-table",{staticClass:"ancho-tabla elevation-15 ",attrs:{headers:e.columnas,objetos:e.categorias,items:e.articulos,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Articulos")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{width:"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{depressed:"",dark:""}},"v-btn",s,!1),a),[e._v(" Añadir ")]),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDF()}}},[e._v(" mdi-download ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"text-h5"},[e._v("Articulos")])]),o("v-card-text",[o("v-form",{ref:"form",attrs:{"lazy-validation":""}},[o("v-row",[o("v-col",[o("v-select",{attrs:{items:e.categorias,label:"Categoria"},model:{value:e.editedItem.categoria,callback:function(t){e.$set(e.editedItem,"categoria",t)},expression:"editedItem.categoria"}})],1)],1),o("v-row",[o("v-col",[o("v-text-field",{attrs:{counter:64,label:"Codigo",rules:e.rulesCodigo,required:""},model:{value:e.editedItem.codigo,callback:function(t){e.$set(e.editedItem,"codigo",t)},expression:"editedItem.codigo"}})],1),o("v-col",[o("v-text-field",{attrs:{counter:50,label:"Nombre",rules:e.rulesNombre,required:""},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1)],1),o("v-row",[o("v-col",[o("v-text-field",{attrs:{counter:255,label:"Descripción",rules:e.rulesDescripcion},model:{value:e.editedItem.descripcion,callback:function(t){e.$set(e.editedItem,"descripcion",t)},expression:"editedItem.descripcion"}})],1)],1),o("v-row",[o("v-col",[o("v-text-field",{attrs:{type:"number",min:"0",label:"Costo",required:""},model:{value:e.editedItem.costo,callback:function(t){e.$set(e.editedItem,"costo",t)},expression:"editedItem.costo"}})],1),o("v-col",[o("v-text-field",{attrs:{type:"number",min:"0",label:"Precio",required:""},model:{value:e.editedItem.precio,callback:function(t){e.$set(e.editedItem,"precio",t)},expression:"editedItem.precio"}})],1),o("v-col",[o("v-text-field",{attrs:{type:"number",min:"0",label:"stock",required:""},model:{value:e.editedItem.stock,callback:function(t){e.$set(e.editedItem,"stock",t)},expression:"editedItem.stock"}})],1)],1),o("v-card-actions",[o("v-col",[o("v-btn",{staticClass:"mr-4",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.guardar()}}},[e._v("Guardar")])],1),o("v-col",[o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Limpiar")])],1),o("v-col",[o("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar")])],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editar(a)}}},[e._v(" mdi-pencil ")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(2,a)}}},[e._v(" mdi-check ")])]:[o("v-icon",{attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(1,a)}}},[e._v(" mdi-block-helper")])]]}}],null,!0)})]],2)],1)},ie=[],ce={data:function(){return{search:"",msgError:"",bd:0,dialog:!1,rulesCodigo:[function(e){return!!e||"Required."},function(e){return e&&e.length<=60||"Max 60 caracteres"}],rulesNombre:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 50 caracteres"}],rulesDescripcion:[function(e){return e.length<=255||"Max 255 caracteres"}],columnas:[{text:"Categoria",value:"categoria.nombre",class:"teal accent-4 white--text",width:"13%"},{text:"Codigo",value:"codigo",class:"teal accent-4 white--text",width:"11%"},{text:"Nombre",value:"nombre",class:"teal accent-4 white--text"},{text:"Descripcion",value:"descripcion",class:"teal accent-4 white--text",width:"30%"},{text:"Precio",value:"precio",class:"teal accent-4 white--text",width:"9%"},{text:"Costo",value:"costo",class:"teal accent-4 white--text",width:"9%"},{text:"stock",value:"stock",class:"teal accent-4 white--text",width:"9%"},{text:"Actions",value:"actions",class:"teal accent-4 white--text",width:"10%",sortable:!1}],articulos:[{codigo:"",precio:"",costo:"",stock:"",nombre:"",estado:"",descripcion:""}],categorias:[],editedItem:{categoria:"",estado:"",precio:"",costo:"",codigo:"",stock:"",nombre:"",descripcion:""}}},created:function(){this.obtenerArticulos(),this.selectCategoria()},methods:{msjcompra:function(e){W.a.fire({position:"top",icon:"error",title:e,showConfirmButton:!1,timer:2e3})},obtenerArticulos:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("articulo",t).then((function(t){console.log(t),e.articulos=t.data.articulos})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},selectCategoria:function(){var e=this,t=[],o={headers:{token:this.$store.state.token}};O.a.get("categoria",o).then((function(o){t=o.data.categoria,t.map((function(t){1==t.estado&&e.categorias.push({text:t.nombre,value:t._id})})),console.log(e.categorias)})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))},activarDesactivarItem:function(e,t){var o=t._id;if(console.log(e),2==e){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};O.a.put("articulo/desactivar/".concat(o),{estado:0},s).then((function(){a.obtenerArticulos()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==e){console.log(o);var r=this,n={headers:{token:this.$store.state.token}};O.a.put("articulo/activar/".concat(o),{estado:1},n).then((function(){r.obtenerArticulos()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},reset:function(){this.editedItem.codigo="",this.editedItem.nombre="",this.editedItem.precio="",this.editedItem.costo="",this.editedItem.stock="",this.editedItem.descripcion=""},editar:function(e){console.log(e),this.bd=1,this.id=e._id,this.editedItem.nombre=e.nombre,this.editedItem.precio=e.precio,this.editedItem.costo=e.costo,this.editedItem.descripcion=e.descripcion,this.editedItem.codigo=e.codigo,this.editedItem.stock=e.stock,this.dialog=!0},guardar:function(){var e=this;if(0==this.bd){console.log("estoy guardando"+this.bd);var t={headers:{token:this.$store.state.token}},o=this;O.a.post("articulo",{categoria:this.editedItem.categoria,codigo:this.editedItem.codigo,nombre:this.editedItem.nombre,descripcion:this.editedItem.descripcion,precio:this.editedItem.precio,costo:this.editedItem.costo,stock:parseFloat(this.editedItem.stock)},t).then((function(t){console.log(t),o.obtenerArticulos(),o.reset(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}else{console.log("estoy enviando"+this.bd);var a={headers:{token:this.$store.state.token}},s=this;O.a.put("articulo/".concat(this.id),{categoria:this.editedItem.categoria,nombre:this.editedItem.nombre,precioventa:this.editedItem.precio,codigo:this.editedItem.codigo,stock:parseFloat(this.editedItem.stock),descripcion:this.editedItem.descripcion},a).then((function(t){console.log(t),s.obtenerArticulos(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}},crearPDF:function(){var e=[];this.articulos.map((function(t){e.push({categoria:t.categoria.nombre,codigo:t.codigo,nombre:t.nombre,descripcion:t.descripcion,precio:t.precio,costo:t.costo,stock:t.stock,estado:t.estado})}));var t=new K["default"];t.autoTable({didDrawPage:function(){t.text("Lista de Articulos",14,10)},columnStyles:{0:{cellWidth:26},1:{cellWidth:26},2:{cellWidth:25},3:{cellWidth:54},4:{cellWidth:17},5:{cellWidth:17},6:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{header:"Categoria",dataKey:"categoria"},{header:"Codigo",dataKey:"codigo"},{header:"Nombre",dataKey:"nombre"},{header:"Descripcion",dataKey:"descripcion"},{header:"Precio",dataKey:"precio"},{header:"stock",dataKey:"stock"},{header:"Estado",dataKey:"estado"}]}),t.save("Articulos.pdf")}}},le=ce,de=(o("2eca"),o("99d9")),me=o("169a"),ue=o("4bd4"),pe=o("b974"),he=Object(d["a"])(le,ne,ie,!1,null,null,null),ve=he.exports;u()(he,{VApp:V["a"],VBtn:v["a"],VCard:g["a"],VCardActions:de["a"],VCardText:de["b"],VCardTitle:de["c"],VCol:q["a"],VContainer:z["a"],VDataTable:U["a"],VDialog:me["a"],VDivider:G["a"],VForm:ue["a"],VIcon:f["a"],VRow:Y["a"],VSelect:pe["a"],VSpacer:D["a"],VTextField:J["a"],VToolbar:Z["a"],VToolbarTitle:H["a"]});var ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-main",[o("v-form",{staticClass:"form-registro mx-auto mt-9",attrs:{width:"500"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-card-title",{staticClass:"titulo"},[e._v("Ingreso de Usuario")]),o("v-card-text",[o("v-text-field",{staticClass:"form-input",attrs:{id:"caja",label:"Usuario",color:"#1DE9B6",required:"",rules:e.nameRules,"prepend-icon":"mdi-account-circle"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),o("v-text-field",{staticClass:"form-input",attrs:{id:"caja",label:"Contraseña",color:"#1DE9B6",required:"",rules:e.passRules,type:e.mostrarContraseña?"text":"password","prepend-icon":"mdi-lock","append-icon":e.mostrarContraseña?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.mostrarContraseña=!e.mostrarContraseña}},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}})],1),o("v-divider"),o("v-card-actions",[o("input",{staticClass:"boton",attrs:{type:"button",value:"Ingresar"},on:{click:function(t){return e.login()}}})])],1)],1),[o("v-footer",{attrs:{dark:"",padless:""}},[o("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[o("v-card-title",[o("strong",{staticClass:"subheading"}),o("v-spacer")],1),o("v-card-text",{staticClass:"py-2 white--text text-center"},[e._v(" "+e._s((new Date).getFullYear())+" — "),o("strong",[e._v("Proyecto")])])],1)],1)]],2)},fe=[],be={data:function(){return{"mostrarContraseña":!1,email:"",pass:"",msgError:"",nameRules:[function(e){return!!e||"Email requerido"},function(e){return e.length<=20||"Email supero los 20 caracteres"}],passRules:[function(e){return!!e||"Contraseña requerida"},function(e){return e.length<=20||"Contraseña supera los 20 caracteres"}],valid:!1}},methods:{msjcompra:function(e){W.a.fire({position:"top",icon:"error",title:e,showConfirmButton:!1,timer:2e3})},login:function(){var e=this;this.email&&this.pass?O.a.post("usuario/login",{email:this.email,password:this.pass}).then((function(t){return e.$store.dispatch("setToken",t.data.token),e.$store.dispatch("setRol",t.data.usuario.rol),e.$store.dispatch("setIdUser",t.data.usuario._id),e.$router.push("/home"),console.log("token"+t.data.token),console.log(t)})).catch((function(t){t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))})):(this.msgError="Email / contraseña  oblicagorios",this.msjcompra(this.msgError))}}},Ce=be,xe=(o("9ce0"),o("553a")),ke=Object(d["a"])(Ce,ge,fe,!1,null,null,null),_e=ke.exports;u()(ke,{VApp:V["a"],VCard:g["a"],VCardActions:de["a"],VCardText:de["b"],VCardTitle:de["c"],VDivider:G["a"],VFooter:xe["a"],VForm:ue["a"],VMain:T["a"],VSpacer:D["a"],VTextField:J["a"]});var Ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[o("v-data-table",{staticClass:"ancho-tabla elevation-15 ",attrs:{headers:e.columnas,items:e.categorias,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Categorias")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{depressed:"",dark:""}},"v-btn",s,!1),a),[e._v(" Añadir ")]),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDF()}}},[e._v("mdi-download")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"text-h5"},[e._v("Categorias")])]),o("v-card-text",[o("v-text-field",{attrs:{counter:50,label:"Nombre",rules:e.rulesNombre,required:""},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}}),o("v-text-field",{attrs:{counter:255,label:"Descripcion",rules:e.rulesDescripcion},model:{value:e.editedItem.descripcion,callback:function(t){e.$set(e.editedItem,"descripcion",t)},expression:"editedItem.descripcion"}}),o("v-btn",{staticClass:"mr-4",attrs:{color:"blue darken-1",text:""},on:{click:e.guardar}},[e._v(" Guardar ")]),o("v-btn",{staticClass:"mr-4",attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Limpiar ")]),o("v-btn",{staticClass:"mr-4",attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editar(a)}}},[e._v("mdi-pencil")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(2,a)}}},[e._v("mdi-check")])]:[o("v-icon",{attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(1,a)}}},[e._v(" mdi-block-helper ")])]]}}],null,!0)})]],2)],1)},De=[],Ee={data:function(){return{drawer:!1,dialog:!1,msgError:"",search:"",bd:0,rulesNombre:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 3 caracteres"}],rulesDescripcion:[function(e){return e&&e.length<=255||"Max 255 caracteres"}],columnas:[{text:"Nombre",value:"nombre",class:"teal accent-4 white--text",width:"30%"},{text:"Descripcion",value:"descripcion",class:"teal accent-4 white--text"},{text:"Actions",value:"actions",class:"teal accent-4 white--text",width:"10%",sortable:!1}],categorias:[{estado:"",nombre:"",descripcion:""}],editedItem:{nombre:"",descripcion:""}}},created:function(){this.obtenerCategorias()},methods:{msjcompra:function(e){W.a.fire({position:"top",icon:"error",title:e,showConfirmButton:!1,timer:2e3})},obtenerCategorias:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("categoria",t).then((function(t){console.log(t),e.categorias=t.data.categoria})).catch((function(t){console.log(t),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},reset:function(){this.editedItem.nombre="",this.editedItem.descripcion=""},editar:function(e){console.log(e),this.bd=1,this.id=e._id,this.editedItem.nombre=e.nombre,this.editedItem.descripcion=e.descripcion,this.dialog=!0},guardar:function(){var e=this;if(0==this.bd){console.log("estoy guardando"+this.bd+"almacenar");var t={headers:{token:this.$store.state.token}},o=this;O.a.post("categoria",{nombre:this.editedItem.nombre,descripcion:this.editedItem.descripcion},t).then((function(t){console.log(t),o.obtenerCategorias(),o.reset(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}else{console.log("estoy enviando"+this.bd+"editar");var a={headers:{token:this.$store.state.token}},s=this;O.a.put("categoria/".concat(this.id),{nombre:this.editedItem.nombre,descripcion:this.editedItem.descripcion},a).then((function(t){console.log(t),s.obtenerCategorias(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}},activarDesactivarItem:function(e,t){var o=t._id;if(2==e){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};O.a.put("categoria/desactivar/".concat(o),{},s).then((function(){a.obtenerCategorias()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==e){var r=this,n={headers:{token:this.$store.state.token}};O.a.put("categoria/activar/".concat(o),{},n).then((function(){r.obtenerCategorias()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},crearPDF:function(){var e=[];this.categorias.map((function(t){e.push({nombre:t.nombre,descripcion:t.descripcion,estado:t.estado})}));var t=new K["default"];t.autoTable({didDrawPage:function(){t.text("Lista de Categorias",14,10)},columnStyles:{0:{cellWidth:50},1:{cellWidth:"auto"},2:{cellWidth:17}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{title:"Nombre",dataKey:"nombre"},{title:"Descripcion",dataKey:"descripcion"},{title:"Estado",dataKey:"estado"}]}),t.save("Categorias.pdf")}}},ye=Ee,je=(o("c014"),Object(d["a"])(ye,Ie,De,!1,null,null,null)),we=je.exports;u()(je,{VApp:V["a"],VBtn:v["a"],VCard:g["a"],VCardText:de["b"],VCardTitle:de["c"],VContainer:z["a"],VDataTable:U["a"],VDialog:me["a"],VDivider:G["a"],VIcon:f["a"],VSpacer:D["a"],VTextField:J["a"],VToolbar:Z["a"],VToolbarTitle:H["a"]});var Ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:e.columnas,items:e.usuarios,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Usuarios")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{depressed:"",dark:""}},"v-btn",s,!1),a),[e._v("Añadir ")]),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDF()}}},[e._v(" mdi-download")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"text-h5"},[e._v("Usuarios")])]),o("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-col",[o("v-autocomplete",{attrs:{items:e.items,dense:"",filled:"",label:"Seleccione Rol"},model:{value:e.editedItem.rol,callback:function(t){e.$set(e.editedItem,"rol",t)},expression:"editedItem.rol"}})],1),o("v-col",[o("v-text-field",{attrs:{counter:50,rules:e.rulesName,label:"Nombre",required:"","prepend-icon":"mdi-account-circle"},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1),o("v-col",[o("v-text-field",{attrs:{label:"E-mail",counter:50,rules:e.rulesEmail,required:"","prepend-icon":"mdi-email"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),o("v-col",[o("v-text-field",{attrs:{label:"Contraseña","prepend-icon":"mdi-lock",counter:50,rules:e.rulesPass,type:e.mostrarContraseña?"text":"password","append-icon":e.mostrarContraseña?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.mostrarContraseña=!e.mostrarContraseña}},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}})],1),o("v-card-actions",[o("v-col",[o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.guardar()}}},[e._v("Guardar")])],1),o("v-col",[o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Limpiar")])],1),o("v-col",[o("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar")])],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editar(a)}}},[e._v(" mdi-pencil ")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(2,a)}}},[e._v(" mdi-check")])]:[o("v-icon",{attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(1,a)}}},[e._v(" mdi-block-helper}")])]]}}],null,!0)})]],2)],1)},Te=[],Ae={data:function(){return{items:["ALMACENISTA_ROL","VENDEDOR_ROL","ADMIN_ROL"],value:null,"mostrarContraseña":!1,valid:!1,drawer:!1,search:"",dialog:!1,bd:0,msgError:"",rulesName:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 50 caracteres"}],rulesEmail:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 50 caracteres"}],rulesPass:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 50 caracteres"}],columnas:[{text:"Nombre",value:"nombre",class:"teal accent-4 white--text"},{text:"Email",value:"email",class:"teal accent-4 white--text"},{text:"Rol",value:"rol",class:"teal accent-4 white--text"},{text:"Actions",value:"actions",class:"teal accent-4 white--text",width:"10%",sortable:!1}],usuarios:[{nombre:"",email:"",estado:"",password:"",rol:""}],editedItem:{nombre:"",email:"",estado:"",password:"",rol:""}}},created:function(){this.obtenerUsuarios()},methods:{msjcompra:function(e){W.a.fire({position:"top",icon:"error",title:e,showConfirmButton:!1,timer:2e3})},obtenerUsuarios:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("usuario",t).then((function(t){console.log(t.data),e.usuarios=t.data.usuarios})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},reset:function(){this.editedItem.rol="null",this.editedItem.nombre="",this.editedItem.email="",this.editedItem.password=""},editar:function(e){console.log(e),this.bd=1,this.id=e._id,this.editedItem.nombre=e.nombre,this.editedItem.email=e.email,this.editedItem.rol=e.rol,this.dialog=!0},guardar:function(){var e=this;if(0==this.bd){console.log("estoy guardando"+this.bd);var t={headers:{token:this.$store.state.token}},o=this;O.a.post("usuario",{nombre:this.editedItem.nombre,email:this.editedItem.email,rol:this.editedItem.rol,password:this.editedItem.password},t).then((function(t){console.log(t),o.obtenerUsuarios(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}else{console.log("estoy enviando"+this.bd);var a={headers:{token:this.$store.state.token}},s=this;O.a.put("usuario/".concat(this.id),{nombre:this.editedItem.nombre,email:this.editedItem.email,rol:this.editedItem.rol,password:this.editedItem.password},a).then((function(t){console.log(t),s.obtenerUsuarios(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}},activarDesactivarItem:function(e,t){var o=t._id;if(console.log(e),2==e){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};O.a.put("usuario/desactivar/".concat(o),{},s).then((function(){a.obtenerUsuarios()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==e){console.log(o);var r=this,n={headers:{token:this.$store.state.token}};O.a.put("usuario/activar/".concat(o),{},n).then((function(){r.obtenerUsuarios()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},crearPDF:function(){var e=[];this.usuarios.map((function(t){e.push({nombre:t.nombre,email:t.email,rol:t.rol,estado:t.estado})}));var t=new K["default"];t.autoTable({didDrawPage:function(){t.text("Lista de Usuarios",14,10)},columnStyles:{0:{cellWidth:50},1:{cellWidth:60},2:{cellWidth:50},3:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{title:"Nombre",dataKey:"nombre"},{title:"E-mail",dataKey:"email"},{title:"Rol",dataKey:"rol"},{title:"Estado",dataKey:"estado"}]}),t.save("Usuarios.pdf")}}},Pe=Ae,$e=(o("67f5"),Object(d["a"])(Pe,Ve,Te,!1,null,null,null)),Se=$e.exports;u()($e,{VApp:V["a"],VAutocomplete:M["a"],VBtn:v["a"],VCard:g["a"],VCardActions:de["a"],VCardTitle:de["c"],VCol:q["a"],VContainer:z["a"],VDataTable:U["a"],VDialog:me["a"],VDivider:G["a"],VForm:ue["a"],VIcon:f["a"],VSpacer:D["a"],VTextField:J["a"],VToolbar:Z["a"],VToolbarTitle:H["a"]});var Ne=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-main",[o("v-card",{staticClass:"mx-auto mt-9",attrs:{width:"500"}},[o("v-form",{ref:"form",attrs:{"lazy-validation":""}},[o("v-col",{attrs:{cols:"12"}},[o("v-autocomplete",{attrs:{items:e.items,dense:"",filled:"",label:"Seleccione Rol"},model:{value:e.rol,callback:function(t){e.rol=t},expression:"rol"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{counter:50,label:"Nombre",required:"","prepend-icon":"mdi-account-circle"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"E-mail",required:"","prepend-icon":"mdi-email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Contraseña",type:e.mostrarContraseña?"text":"password","prepend-icon":"mdi-lock","append-icon":e.mostrarContraseña?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.mostrarContraseña=!e.mostrarContraseña}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),o("v-card-actions",[o("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:e.registrarse}},[e._v("Registrarse")]),o("v-btn",{attrs:{color:"info"},on:{click:e.reset}},[e._v(" Limpiar")]),o("v-btn",{attrs:{color:"error",to:"/"}},[e._v(" Cancelar")])],1)],1)],1)],1),[o("v-footer",{attrs:{dark:"",padless:""}},[o("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[o("v-card-title",{attrs:{dark:""}},[o("strong",{staticClass:"subheading"}),o("v-spacer")],1),o("v-card-text",{staticClass:"py-2 white--text text-center"},[e._v(" "+e._s((new Date).getFullYear())+" — "),o("strong",[e._v("Proyecto")])])],1)],1)]],2)},Fe=[],Oe=(o("b0c0"),{data:function(){return{rol:"",name:"",email:"",items:["ALMACENISTA_ROL","VENDEDOR_ROL","ADMIN_ROL"],value:null,"mostrarContraseña":!1,password:""}},methods:{registrarse:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.post("usuario",t).then((function(t){console.log(t),e.ventas=t.data.usuario})).catch((function(e){console.log(e.response)}))},reset:function(){this.rol="null",this.name="",this.email="",this.password=""}}}),Re=Oe,We=Object(d["a"])(Re,Ne,Fe,!1,null,null,null),Ke=We.exports;u()(We,{VApp:V["a"],VAutocomplete:M["a"],VBtn:v["a"],VCard:g["a"],VCardActions:de["a"],VCardText:de["b"],VCardTitle:de["c"],VCol:q["a"],VFooter:xe["a"],VForm:ue["a"],VMain:T["a"],VSpacer:D["a"],VTextField:J["a"]});var Be=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{attrs:{src:o("cf05")}})])}],Me={data:function(){return{}}},qe=Me,ze=Object(d["a"])(qe,Be,Le,!1,null,null,null),Ue=ze.exports,Ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[o("v-data-table",{staticClass:"ancho-tabla elevation-15 ",attrs:{headers:e.columnas,items:e.personas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Proveedores")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{depressed:"",dark:""}},"v-btn",s,!1),a),[e._v(" Añadir ")]),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDF()}}},[e._v(" mdi-download ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"text-h5"},[e._v("Proveedores")])]),o("v-card-text",[o("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-text-field",{attrs:{counter:50,rules:e.rulesNombre,label:"Nombre*",required:""},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}}),o("v-text-field",{attrs:{counter:20,rules:e.rulesTipoDocumento,label:"Tipo de Documento"},model:{value:e.editedItem.tipoDocumento,callback:function(t){e.$set(e.editedItem,"tipoDocumento",t)},expression:"editedItem.tipoDocumento"}}),o("v-text-field",{attrs:{counter:20,rules:e.rulesNumDocumento,label:"Número de Documento"},model:{value:e.editedItem.numDocumento,callback:function(t){e.$set(e.editedItem,"numDocumento",t)},expression:"editedItem.numDocumento"}}),o("v-text-field",{attrs:{counter:70,rules:e.rulesDireccion,label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}}),o("v-text-field",{attrs:{counter:15,rules:e.rulesTelefono,label:"Telefono"},model:{value:e.editedItem.telefono,callback:function(t){e.$set(e.editedItem,"telefono",t)},expression:"editedItem.telefono"}}),o("v-text-field",{attrs:{counter:50,rules:e.rulesEmail,label:"Email*",required:""},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}}),o("v-btn",{staticClass:"mr-4",attrs:{color:"blue darken-1",text:""},on:{click:e.guardar}},[e._v(" Guardar ")]),o("v-btn",{staticClass:"mr-4",attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Limpiar ")]),o("v-btn",{staticClass:"mr-4",attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar ")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editar(a)}}},[e._v(" mdi-pencil ")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(2,a)}}},[e._v(" mdi-check ")])]:[o("v-icon",{attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(1,a)}}},[e._v(" mdi-block-helper ")])]]}}],null,!0)})]],2)],1)},Ye=[],Je={data:function(){return{drawer:!1,search:"",valid:!1,bd:0,dialog:!1,rulesNombre:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 50 caracteres"}],rulesEmail:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 50 caracteres"}],rulesTipoDocumento:[function(e){return e.length<=20||"Max 20 caracteres"}],rulesNumDocumento:[function(e){return e.length<=20||"Max 20 caracteres"}],rulesDireccion:[function(e){return e.length<=70||"Max 70 caracteres"}],rulesTelefono:[function(e){return e.length<=15||"Max 15 caracteres"}],columnas:[{text:"Nombre",value:"nombre",class:"teal accent-4 white--text"},{text:"Tipo Documento",value:"tipoDocumento",class:"teal accent-4 white--text"},{text:"Número Documento",value:"numDocumento",class:"teal accent-4 white--text"},{text:"Dirección",value:"direccion",class:"teal accent-4 white--text"},{text:"Telefono",value:"telefono",class:"teal accent-4 white--text",width:"10%",sortable:!1},{text:"Email",value:"email",class:"teal accent-4 white--text"},{text:"Actions",value:"actions",class:"teal accent-4 white--text",width:"10%",sortable:!1}],personas:[{tipoPersona:"",nombre:"",tipoDocumento:"",numDocumento:"",direccion:"",telefono:"",estado:"",email:""}],editedItem:{tipoPersona:"",nombre:"",tipoDocumento:"",numDocumento:"",direccion:"",estado:"",telefono:"",email:""}}},created:function(){this.obtenerPersonas()},methods:{msjcompra:function(e){W.a.fire({position:"top",icon:"error",title:e,showConfirmButton:!1,timer:2e3})},obtenerPersonas:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("persona/listProveedores",t).then((function(t){console.log(t.data),e.personas=t.data.persona})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},reset:function(){this.editedItem.nombre="",this.editedItem.tipoPersona="",this.editedItem.tipoDocumento="",this.editedItem.numDocumento="",this.editedItem.direccion="",this.editedItem.telefono="",this.editedItem.email=""},editar:function(e){console.log(e),this.bd=1,this.id=e._id,this.editedItem.nombre=e.nombre,this.editedItem.tipoPersona="proveedor",this.editedItem.tipoDocumento=e.tipoDocumento,this.editedItem.numDocumento=e.numDocumento,this.editedItem.direccion=e.direccion,this.editedItem.telefono=e.telefono,this.editedItem.email=e.email,this.dialog=!0},guardar:function(){var e=this;if(0==this.bd){console.log("estoy guardando"+this.bd+"ALMACENAR");var t={headers:{token:this.$store.state.token}},o=this;O.a.post("persona",{nombre:this.editedItem.nombre,tipoPersona:"proveedor",tipoDocumento:this.editedItem.tipoDocumento,numDocumento:this.editedItem.numDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email},t).then((function(t){console.log(t),o.obtenerPersonas(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}else{console.log("estoy enviando"+this.bd+"EDITAR");var a={headers:{token:this.$store.state.token}},s=this;O.a.put("persona/".concat(this.id),{nombre:this.editedItem.nombre,tipoPersona:"proveedor",tipoDocumento:this.editedItem.tipoDocumento,numDocumento:this.editedItem.numDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email},a).then((function(t){console.log(t),s.obtenerPersonas(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}},activarDesactivarItem:function(e,t){var o=t._id;if(console.log(e),2==e){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};O.a.put("persona/desactivar/".concat(o),{},s).then((function(){a.obtenerPersonas()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==e){console.log(o);var r=this,n={headers:{token:this.$store.state.token}};O.a.put("persona/activar/".concat(o),{},n).then((function(){r.obtenerPersonas()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},crearPDF:function(){var e=[];this.personas.map((function(t){e.push({nombre:t.nombre,tipoDocumento:t.tipoDocumento,numDocumento:t.numDocumento,direccion:t.direccion,telefono:t.telefono,email:t.email,estado:t.estado})}));var t=new K["default"];t.autoTable({didDrawPage:function(){t.text("Lista de Proveedores",14,10)},columnStyles:{0:{cellWidth:25},1:{cellWidth:25},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:25},5:{cellWidth:15},6:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{title:"Nombre",dataKey:"nombre"},{title:"Tipo Documento",dataKey:"tipoDocumento"},{title:"Número Documento",dataKey:"numDocumento"},{title:"Direccion",dataKey:"direccion"},{title:"Telefono",dataKey:"telefono"},{title:"Estado",dataKey:"estado"},{title:"E-mail",dataKey:"email"}]}),t.save("Proveedores.pdf")}}},Ze=Je,He=(o("b651"),Object(d["a"])(Ze,Ge,Ye,!1,null,null,null)),Qe=He.exports;u()(He,{VApp:V["a"],VBtn:v["a"],VCard:g["a"],VCardText:de["b"],VCardTitle:de["c"],VContainer:z["a"],VDataTable:U["a"],VDialog:me["a"],VDivider:G["a"],VForm:ue["a"],VIcon:f["a"],VSpacer:D["a"],VTextField:J["a"],VToolbar:Z["a"],VToolbarTitle:H["a"]});var Xe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[o("v-data-table",{staticClass:"ancho-tabla elevation-15 ",attrs:{headers:e.columnas,items:e.personas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v("Clientes")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{depressed:"",dark:""}},"v-btn",s,!1),a),[e._v(" Añadir ")]),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(t){return e.crearPDF()}}},[e._v(" mdi-download ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"text-h5"},[e._v("Clietnes")])]),o("v-card-text",[o("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-text-field",{attrs:{counter:50,rules:e.rulesNombre,label:"Nombre*",required:""},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}}),o("v-text-field",{attrs:{counter:20,rules:e.rulesTipoDocumento,label:"Tipo de Documento"},model:{value:e.editedItem.tipoDocumento,callback:function(t){e.$set(e.editedItem,"tipoDocumento",t)},expression:"editedItem.tipoDocumento"}}),o("v-text-field",{attrs:{counter:20,rules:e.rulesNumDocumento,label:"Número de Documento"},model:{value:e.editedItem.numDocumento,callback:function(t){e.$set(e.editedItem,"numDocumento",t)},expression:"editedItem.numDocumento"}}),o("v-text-field",{attrs:{counter:70,rules:e.rulesDireccion,label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}}),o("v-text-field",{attrs:{counter:15,rules:e.rulesTelefono,label:"Telefono"},model:{value:e.editedItem.telefono,callback:function(t){e.$set(e.editedItem,"telefono",t)},expression:"editedItem.telefono"}}),o("v-text-field",{attrs:{counter:50,rules:e.rulesEmail,label:"Email*",required:""},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}}),o("v-btn",{staticClass:"mr-4",attrs:{color:"blue darken-1",text:""},on:{click:e.guardar}},[e._v(" Guardar ")]),o("v-btn",{staticClass:"mr-4",attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Limpiar ")]),o("v-btn",{staticClass:"mr-4",attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar ")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editar(a)}}},[e._v(" mdi-pencil")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(2,a)}}},[e._v(" mdi-check")])]:[o("v-icon",{attrs:{small:""},on:{click:function(t){return e.activarDesactivarItem(1,a)}}},[e._v(" mdi-block-helper ")])]]}}],null,!0)})]],2)],1)},et=[],tt={data:function(){return{drawer:!1,search:"",valid:!1,bd:0,dialog:!1,rulesNombre:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 50 caracteres"}],rulesEmail:[function(e){return!!e||"Required."},function(e){return e&&e.length<=50||"Max 50 caracteres"}],rulesTipoDocumento:[function(e){return e.length<=20||"Max 20 caracteres"}],rulesNumDocumento:[function(e){return e.length<=20||"Max 20 caracteres"}],rulesDireccion:[function(e){return e.length<=70||"Max 70 caracteres"}],rulesTelefono:[function(e){return e.length<=15||"Max 15 caracteres"}],columnas:[{text:"Nombre",value:"nombre",class:"teal accent-4 white--text"},{text:"Tipo Documento",value:"tipoDocumento",class:"teal accent-4 white--text"},{text:"Número Documento",value:"numDocumento",class:"teal accent-4 white--text"},{text:"Dirección",value:"direccion",class:"teal accent-4 white--text"},{text:"Telefono",value:"telefono",class:"teal accent-4 white--text",width:"10%",sortable:!1},{text:"Email",value:"email",class:"teal accent-4 white--text"},{text:"Actions",value:"actions",class:"teal accent-4 white--text",width:"10%",sortable:!1}],personas:[{tipoPersona:"",nombre:"",tipoDocumento:"",numDocumento:"",direccion:"",telefono:"",estado:"",email:""}],editedItem:{tipoPersona:"",nombre:"",tipoDocumento:"",numDocumento:"",direccion:"",estado:"",telefono:"",email:""}}},created:function(){this.obtenerPersonas()},methods:{msjcompra:function(e){W.a.fire({position:"top",icon:"error",title:e,showConfirmButton:!1,timer:2e3})},obtenerPersonas:function(){var e=this,t={headers:{token:this.$store.state.token}};O.a.get("persona/listClientes",t).then((function(t){console.log(t.data),e.personas=t.data.persona})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},reset:function(){this.editedItem.nombre="",this.editedItem.tipoPersona="",this.editedItem.tipoDocumento="",this.editedItem.numDocumento="",this.editedItem.direccion="",this.editedItem.telefono="",this.editedItem.email=""},editar:function(e){console.log(e),this.bd=1,this.id=e._id,this.editedItem.nombre=e.nombre,this.editedItem.tipoPersona="cliente",this.editedItem.tipoDocumento=e.tipoDocumento,this.editedItem.numDocumento=e.numDocumento,this.editedItem.direccion=e.direccion,this.editedItem.telefono=e.telefono,this.editedItem.email=e.email,this.dialog=!0},guardar:function(){var e=this;if(0==this.bd){console.log("estoy guardando"+this.bd+"ALMACENAR");var t={headers:{token:this.$store.state.token}},o=this;O.a.post("persona",{nombre:this.editedItem.nombre,tipoPersona:"cliente",tipoDocumento:this.editedItem.tipoDocumento,numDocumento:this.editedItem.numDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email},t).then((function(t){console.log(t),o.obtenerPersonas(),o.reset(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}else{console.log("estoy enviando"+this.bd+"EDITAR");var a={headers:{token:this.$store.state.token}},s=this;O.a.put("persona/".concat(this.id),{nombre:this.editedItem.nombre,tipoPersona:"cliente",tipoDocumento:this.editedItem.tipoDocumento,numDocumento:this.editedItem.numDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email},a).then((function(t){console.log(t),s.obtenerPersonas(),e.dialog=!1})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))}},activarDesactivarItem:function(e,t){var o=t._id;if(console.log(e),2==e){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};O.a.put("persona/desactivar/".concat(o),{},s).then((function(){a.obtenerPersonas()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==e){console.log(o);var r=this,n={headers:{token:this.$store.state.token}};O.a.put("persona/activar/".concat(o),{},n).then((function(){r.obtenerPersonas()})).catch((function(e){console.log(e),e.response.data.msg?(this.msgError=e.response.data.msg,console.log(e.response.data.msg),this.msgError=e.response.data.msg,this.msjcompra(this.msgError)):(console.log(e.response),this.msgError=e.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},crearPDF:function(){var e=[];this.personas.map((function(t){e.push({nombre:t.nombre,tipoDocumento:t.tipoDocumento,numDocumento:t.numDocumento,direccion:t.direccion,telefono:t.telefono,email:t.email,estado:t.estado})}));var t=new K["default"];t.autoTable({didDrawPage:function(){t.text("Lista de Clientes",14,10)},columnStyles:{0:{cellWidth:25},1:{cellWidth:25},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:25},5:{cellWidth:15},6:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{title:"Nombre",dataKey:"nombre"},{title:"Tipo Documento",dataKey:"tipoDocumento"},{title:"Número Documento",dataKey:"numDocumento"},{title:"Direccion",dataKey:"direccion"},{title:"Telefono",dataKey:"telefono"},{title:"Estado",dataKey:"estado"},{title:"E-mail",dataKey:"email"}]}),t.save("Clientes.pdf")}}},ot=tt,at=(o("b827"),Object(d["a"])(ot,Xe,et,!1,null,null,null)),st=at.exports;u()(at,{VApp:V["a"],VBtn:v["a"],VCard:g["a"],VCardText:de["b"],VCardTitle:de["c"],VContainer:z["a"],VDataTable:U["a"],VDialog:me["a"],VDivider:G["a"],VForm:ue["a"],VIcon:f["a"],VSpacer:D["a"],VTextField:J["a"],VToolbar:Z["a"],VToolbarTitle:H["a"]});var rt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("v-app",{attrs:{id:"inspire"}},[o("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"items-per-page":5},scopedSlots:e._u([{key:"item.protein",fn:function(t){return[o("v-text-field",{attrs:{name:"quantity",outlined:"",type:"number"},on:{input:e.getdata},model:{value:t.item.protein,callback:function(o){e.$set(t.item,"protein",o)},expression:"props.item.protein"}})]}}])})],1)],1)},nt=[],it={data:function(){return{headers:[{text:"Dessert (100g serving)",align:"left",sortable:!1,value:"name"},{text:"Calories",value:"calories"},{text:"Fat (g)",value:"fat"},{text:"Carbs (g)",value:"carbs"},{text:"Protein (g)",value:"protein"},{text:"Iron (%)",value:"iron"}],desserts:[{name:"1",calories:159,fat:6,carbs:24,protein:4,iron:"1%"},{name:"2",calories:159,fat:6,carbs:24,protein:4,iron:"1%"},{name:"3",calories:159,fat:6,carbs:24,protein:4,iron:"1%"}]}},methods:{getdata:function(){console.log(this.desserts[0].protein)}}},ct=it,lt=Object(d["a"])(ct,rt,nt,!1,null,null,null),dt=lt.exports;u()(lt,{VApp:V["a"],VDataTable:U["a"],VTextField:J["a"]});var mt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ut=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ex2"},[o("canvas",{attrs:{id:"myChart"}})])}],pt=o("1da1"),ht=(o("96cf"),o("30ef")),vt=o.n(ht),gt={data:function(){return{datos:[],stock:[]}},methods:{graficar:function(){var e=this;return Object(pt["a"])(regeneratorRuntime.mark((function t(){var o,a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e,a=[],s={headers:{token:e.$store.state.token}},t.next=5,O.a.get("articulo",s).then((function(e){console.log(e),a=e.data.articulos,a.map((function(e){o.datos.push(e.nombre),o.stock.push(e.stock)}))}));case 5:r=document.getElementById("myChart"),n=new vt.a(r,{type:"bar",data:{labels:o.datos,datasets:[{label:"Articulos",data:o.stock,backgroundColor:["rgba(255,99,132,0.2)"],borderColor:["rgba(255,99,132,1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}),console.log(n);case 8:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.graficar()}},ft=gt,bt=Object(d["a"])(ft,mt,ut,!1,null,null,null),Ct=bt.exports,xt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},kt=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ex2"},[o("canvas",{attrs:{id:"myChart"}})])}],_t={data:function(){return{datos:[],stock:[]}},methods:{graficar:function(){var e=this;return Object(pt["a"])(regeneratorRuntime.mark((function t(){var o,a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e,a=[],s={headers:{token:e.$store.state.token}},t.next=5,O.a.get("articulo",s).then((function(e){console.log(e),a=e.data.articulos,a.map((function(e){o.datos.push(e.nombre),o.stock.push(e.stock)}))}));case 5:r=document.getElementById("myChart"),n=new vt.a(r,{type:"pie",data:{labels:o.datos,datasets:[{label:"Articulos",data:o.stock,backgroundColor:["rgba(255,99,132,0.2)","rgba(254,251,38,0.2)","rgba(114,235,44,0.2)","rgba(44,235,206,0.2)","rgba(44,108,235,0.2)","rgba(189,44,235,0.2)"],borderColor:["rgba(255,99,132,1)","rgba(254,251,38,1)","rgba(114,235,44,1)","rgba(44,235,206,1)","rgba(44,108,235,1)","rgba(189,44,235,1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}),console.log(n);case 8:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.graficar()}},It=_t,Dt=Object(d["a"])(It,xt,kt,!1,null,null,null),Et=Dt.exports,yt=[{path:"/compra",component:X},{path:"/venta",component:re},{path:"/articulo",component:ve},{path:"/categoria",component:we},{path:"/usuario",component:Se},{path:"/registrarse",component:Ke},{path:"/listarProveedores",component:Qe},{path:"/listarClientes",component:st},{path:"/",component:_e},{path:"/home",component:Ue},{path:"/consultarCompras",component:dt},{path:"/consultarVentas",component:Ct},{path:"/grafica",component:Et}],jt=o("f309");a["a"].use(jt["a"]);var wt=new jt["a"]({}),Vt=o("2f62");a["a"].use(Vt["a"]);var Tt=new Vt["a"].Store({state:{token:"",rol:""},mutations:{setToken:function(e,t){e.token=t},setRol:function(e,t){e.rol=t},setIdUser:function(e,t){e.idUser=t}},actions:{setToken:function(e,t){e.commit("setToken",t)},setRol:function(e,t){e.commit("setRol",t)},setIdUser:function(e,t){e.commit("setIdUser",t)}}});a["a"].use($["a"]),a["a"].config.productionTip=!1,O.a.defaults.baseURL="https://proyectosemilla.herokuapp.com/api/";var At=new $["a"]({routes:yt,mode:"history"});new a["a"]({render:function(e){return e(P)},axios:O.a,vuetify:wt,router:At,store:Tt,Swal:W.a}).$mount("#app")},"670e":function(e,t,o){"use strict";o("87f8")},"67f5":function(e,t,o){"use strict";o("8f5f")},"6dcb":function(e,t,o){},8049:function(e,t,o){},"85ec":function(e,t,o){},"87f8":function(e,t,o){},"8f5f":function(e,t,o){},"9ce0":function(e,t,o){"use strict";o("d64c")},b651:function(e,t,o){"use strict";o("080a")},b827:function(e,t,o){"use strict";o("2015")},c014:function(e,t,o){"use strict";o("2898")},cf05:function(e,t,o){e.exports=o.p+"img/logo.b5b11249.png"},d64c:function(e,t,o){},dd16:function(e,t,o){"use strict";o("6dcb")}});
//# sourceMappingURL=app.f72c2a1f.js.map